package net.kenji.woh.mixins;

import java.util.Random;
import java.util.Set;
import net.corruptdog.cdm.Client.particle.CorruptParticles;
import net.corruptdog.cdm.api.animation.types.ExecuteAnimation;
import net.corruptdog.cdm.api.animation.types.ExecutedAnimation;
import net.corruptdog.cdm.api.animation.types.FallAttackAnimation;
import net.corruptdog.cdm.api.animation.types.InvincibleAttackAnimation;
import net.corruptdog.cdm.api.animation.types.KatanaAttackanimation;
import net.corruptdog.cdm.api.animation.types.KnockbackAnimation;
import net.corruptdog.cdm.api.animation.types.ParryBreakAnimation;
import net.corruptdog.cdm.api.animation.types.PowerAnimation;
import net.corruptdog.cdm.api.animation.types.SeeThroughAnimation;
import net.corruptdog.cdm.api.animation.types.ThrowSkillAnimation;
import net.corruptdog.cdm.api.animation.types.YamatoDodge;
import net.corruptdog.cdm.api.animation.types.YamatoParryAnimation;
import net.corruptdog.cdm.api.animation.types.YamatoSkillAnimation;
import net.corruptdog.cdm.api.animation.types.YamtoAttackAnimation;
import net.corruptdog.cdm.api.animation.types.YamtoCounterAttackAnimation;
import net.corruptdog.cdm.api.animation.types.property.Properties;
import net.corruptdog.cdm.gameasset.CDSkills;
import net.corruptdog.cdm.gameasset.CorruptAnimations;
import net.corruptdog.cdm.gameasset.CorruptCollider;
import net.corruptdog.cdm.gameasset.CorruptSound;
import net.corruptdog.cdm.skill.CDSkillDataKeys;
import net.corruptdog.cdm.world.damagesources.EFRExtraDamageInstance;
import net.minecraft.client.Minecraft;
import net.minecraft.core.BlockPos;
import net.minecraft.core.particles.BlockParticleOption;
import net.minecraft.core.particles.ParticleOptions;
import net.minecraft.core.particles.ParticleTypes;
import net.minecraft.server.level.ServerLevel;
import net.minecraft.server.level.ServerPlayer;
import net.minecraft.sounds.SoundEvent;
import net.minecraft.sounds.SoundSource;
import net.minecraft.world.InteractionHand;
import net.minecraft.world.entity.Entity;
import net.minecraft.world.entity.LivingEntity;
import net.minecraft.world.entity.player.Player;
import net.minecraft.world.level.block.Blocks;
import net.minecraft.world.level.block.BushBlock;
import net.minecraft.world.level.block.state.BlockState;
import net.minecraft.world.phys.Vec3;
import net.minecraftforge.eventbus.api.SubscribeEvent;
import org.spongepowered.asm.mixin.Mixin;
import org.spongepowered.asm.mixin.Shadow;
import org.spongepowered.asm.mixin.Unique;
import org.spongepowered.asm.mixin.injection.At;
import org.spongepowered.asm.mixin.injection.Inject;
import org.spongepowered.asm.mixin.injection.callback.CallbackInfo;
import yesman.epicfight.api.animation.AnimationManager;
import yesman.epicfight.api.animation.Keyframe;
import yesman.epicfight.api.animation.TransformSheet;
import yesman.epicfight.api.animation.property.AnimationEvent;
import yesman.epicfight.api.animation.property.AnimationProperty;
import yesman.epicfight.api.animation.property.MoveCoordFunctions;
import yesman.epicfight.api.animation.property.AnimationEvent.InPeriodEvent;
import yesman.epicfight.api.animation.property.AnimationEvent.InTimeEvent;
import yesman.epicfight.api.animation.property.AnimationEvent.Side;
import yesman.epicfight.api.animation.property.AnimationEvent.SimpleEvent;
import yesman.epicfight.api.animation.property.AnimationProperty.ActionAnimationProperty;
import yesman.epicfight.api.animation.property.AnimationProperty.AttackAnimationProperty;
import yesman.epicfight.api.animation.property.AnimationProperty.AttackPhaseProperty;
import yesman.epicfight.api.animation.property.AnimationProperty.StaticAnimationProperty;
import yesman.epicfight.api.animation.types.AirSlashAnimation;
import yesman.epicfight.api.animation.types.AttackAnimation;
import yesman.epicfight.api.animation.types.BasicAttackAnimation;
import yesman.epicfight.api.animation.types.DashAttackAnimation;
import yesman.epicfight.api.animation.types.DodgeAnimation;
import yesman.epicfight.api.animation.types.EntityState;
import yesman.epicfight.api.animation.types.GuardAnimation;
import yesman.epicfight.api.animation.types.LongHitAnimation;
import yesman.epicfight.api.animation.types.MovementAnimation;
import yesman.epicfight.api.animation.types.StaticAnimation;
import yesman.epicfight.api.animation.types.AttackAnimation.JointColliderPair;
import yesman.epicfight.api.collider.Collider;
import yesman.epicfight.api.utils.TimePairList;
import yesman.epicfight.api.utils.HitEntityList.Priority;
import yesman.epicfight.api.utils.math.ValueModifier;
import yesman.epicfight.api.utils.math.Vec3f;
import yesman.epicfight.gameasset.Animations;
import yesman.epicfight.gameasset.Armatures;
import yesman.epicfight.gameasset.ColliderPreset;
import yesman.epicfight.gameasset.EpicFightSounds;
import yesman.epicfight.gameasset.Animations.ReusableSources;
import yesman.epicfight.model.armature.HumanoidArmature;
import yesman.epicfight.particle.EpicFightParticles;
import yesman.epicfight.skill.BasicAttack;
import yesman.epicfight.skill.SkillDataKey;
import yesman.epicfight.skill.SkillSlots;
import yesman.epicfight.world.capabilities.entitypatch.player.PlayerPatch;
import yesman.epicfight.world.capabilities.entitypatch.player.ServerPlayerPatch;
import yesman.epicfight.world.damagesource.EpicFightDamageTypeTags;
import yesman.epicfight.world.damagesource.ExtraDamageInstance;
import yesman.epicfight.world.damagesource.StunType;
import yesman.epicfight.world.entity.eventlistener.ComboCounterHandleEvent.Causal;

@Mixin(value = CorruptAnimations.class, remap = false)
public class CorruptAnimationsMixin {

    @Shadow
    private static AnimationEvent.E0 YAMATO_IN;
    @Shadow
    private static AnimationEvent.E0 YAMATO_OUT;
    @Shadow
    private static AnimationEvent.E0 CHASE;
    @Shadow
    private static final AnimationEvent.E0 COMBO_BREAK = (entitypatch, animation, params) -> {
        if (entitypatch instanceof ServerPlayerPatch patch) {
            BasicAttack.setComboCounterWithEvent(Causal.TIME_EXPIRED, patch, patch.getSkill(SkillSlots.BASIC_ATTACK), Animations.EMPTY_ANIMATION.getAccessor(), 0);
        }

    };
    @Shadow
    private static AnimationEvent.E0 CUT;

    


    @Inject(method = "build", at = @At("HEAD"), cancellable = true)
    private static void build(AnimationManager.AnimationBuilder builder, CallbackInfo ci) {
        ci.cancel();
        CorruptAnimations.DUAL_TACHI_SKILL_EXECUTED = builder.nextAccessor("biped/hit/executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.01F, 3.0F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, Float.MAX_VALUE})).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false));
        CorruptAnimations.DUAL_TACHI_SKILL_EXECUTE = builder.nextAccessor("biped/new/skill/sekiro", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.01F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 1.05F, 1.15F, 1.2F, 1.2F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, ColliderPreset.BIPED_BODY_COLLIDER)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.NEUTRALIZE_BOSSES.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.AIR_BURST).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)), (new AttackAnimation.Phase(1.21F, 2.25F, 2.35F, 3.15F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.TACHI_EXECUTED = builder.nextAccessor("biped/new/skill/tachi_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 2.3F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.TACHI_EX));
        CorruptAnimations.TACHI_EXECUTE = builder.nextAccessor("biped/new/skill/tachi_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.35F, 0.41F, 0.45F, 0.5F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT_HARD.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE), (new AttackAnimation.Phase(0.5F, 0.55F, 0.75F, 0.95F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()), (new AttackAnimation.Phase(1.0F, 1.35F, 1.55F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 1.55F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.35F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)2.0F * (double)x;
                    double offsetY = Math.random() - (double)0.5F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)2.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle((ParticleOptions)EpicFightParticles.EVISCERATE.get(), particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(2.3F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(2.85F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(3.0F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.LONGSWORD_EXECUTED = builder.nextAccessor("biped/new/skill/longsword_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 2.9F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> elapsedTime >= 3.0F && elapsedTime < Float.MAX_VALUE ? 1.25F : 0.7F));
        CorruptAnimations.LONGSWORD_EXECUTE = builder.nextAccessor("biped/new/skill/longsword_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.7F, 0.85F, 1.1F, 1.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(1.3F, 1.35F, 1.55F, 1.6F, 1.6F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)), (new AttackAnimation.Phase(1.6F, 2.35F, 2.55F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 1.55F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.35F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)2.0F * (double)x;
                    double offsetY = Math.random() - (double)0.5F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)2.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle((ParticleOptions)EpicFightParticles.EVISCERATE.get(), particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.SWORD_EXECUTED = builder.nextAccessor("biped/new/skill/sword_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 3.5F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> elapsedTime >= 3.55F && elapsedTime < Float.MAX_VALUE ? 1.15F : 0.85F));
        CorruptAnimations.SWORD_EXECUTE = builder.nextAccessor("biped/new/skill/sword_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.55F, 0.75F, 1.1F, 1.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(1.3F, 1.45F, 1.65F, 1.8F, 1.8F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT_HARD.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT), (new AttackAnimation.Phase(1.8F, 2.35F, 2.55F, 2.6F, 2.6F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)), (new AttackAnimation.Phase(2.6F, 3.2F, 3.4F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 1.55F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.55F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)2.0F * (double)x;
                    double offsetY = Math.random() - (double)0.5F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)2.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle((ParticleOptions)EpicFightParticles.EVISCERATE.get(), particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.DAGGER_EXECUTED = builder.nextAccessor("biped/new/skill/dagger_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 3.0F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.DAGGER_EXECUTE = builder.nextAccessor("biped/new/skill/dagger_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.55F, 0.8F, 1.1F, 1.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(1.3F, 1.45F, 1.55F, 1.6F, 1.6F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)), (new AttackAnimation.Phase(1.6F, 1.9F, 2.1F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 1.55F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.55F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)2.0F * (double)x;
                    double offsetY = Math.random() - (double)0.5F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)2.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle((ParticleOptions)EpicFightParticles.EVISCERATE.get(), particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.GREATSWORD_EXECUTED = builder.nextAccessor("biped/new/skill/greatsword_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 3.0F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.GREATSWORD_EXECUTE = builder.nextAccessor("biped/new/skill/greatsword_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.75F, 0.95F, 1.85F, 1.85F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(1.85F, 2.15F, 2.55F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND_GREATSWORD)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(StaticAnimationProperty.POSE_MODIFIER, ReusableSources.APPLY_COORD_ROTATION).addEvents(StaticAnimationProperty.ON_END_EVENTS, new AnimationEvent[]{SimpleEvent.create(ReusableSources.SYNC_COORD_ROTATION, Side.BOTH)}).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 1.55F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(2.35F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(4.0F, 0.0F, 0.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, 2.05, 0.55F), InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.SPEAR_EXECUTED = builder.nextAccessor("biped/new/skill/spear_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.01F, 1.7F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.SPEAR_EXECUTE = builder.nextAccessor("biped/new/skill/spear_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.35F, 0.31F, 0.95F, 1.1F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(1.0F, 1.15F, 1.35F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.2F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.EVISCERATE.get()), InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.DUAL_DAGGER_EXECUTED = builder.nextAccessor("biped/new/skill/dual_dagger_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 2.0F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.DUAL_DAGGER_EXECUTE = builder.nextAccessor("biped/new/skill/dual_dagger_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.3F, 0.3F, 0.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(0.35F, 0.45F, 0.55F, 0.95F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()), (new AttackAnimation.Phase(1.0F, 1.15F, 1.3F, 1.3F, 1.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL), (new AttackAnimation.Phase(1.35F, 1.65F, 1.75F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT_HARD.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.EXECUTED_YAMATO = builder.nextAccessor("biped/new/skill/yamato_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.25F, 1.8F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.EXECUTE_YAMATO = builder.nextAccessor("biped/new/skill/yamato_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.35F, 0.55F, 0.7F, 0.7F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()), (new AttackAnimation.Phase(0.7F, 0.75F, 1.05F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.15F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.65F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.65F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.65F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.TRIDENT_EXECUTED = builder.nextAccessor("biped/new/skill/trident_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 2.1F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.TRIDENT_EXECUTE = builder.nextAccessor("biped/new/skill/trident_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.01F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.25F, 0.5F, 0.8F, 0.8F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT_HARD.get()), (new AttackAnimation.Phase(0.8F, 0.85F, 1.1F, 2.3F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(2.2F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.KATANA_EXECUTED = builder.nextAccessor("biped/new/skill/katana_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 2.3F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.KATANA_EXECUTE = builder.nextAccessor("biped/new/skill/katana_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.01F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.55F, 0.75F, 0.95F, 1.1F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()), (new AttackAnimation.Phase(1.0F, 1.05F, 1.15F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(2.2F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get()), InTimeEvent.create(2.2F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.EXECUTED_WEAPON = builder.nextAccessor("biped/hit/executed_weapon", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.01F, 3.5F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.EXECUTE_WEAPON = builder.nextAccessor("biped/new/skill/execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.01F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.75F, 0.51F, 0.95F, 3.1F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.EXECUTE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.DAMAGE.get()), (new AttackAnimation.Phase(3.0F, 3.05F, 3.15F, 6.0F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.EXECUTE_SECOND)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F})))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, (entitypatch, animation, params) -> {
        }, Side.CLIENT), InTimeEvent.create(3.1F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.FIST_EXECUTED = builder.nextAccessor("biped/new/skill/fist_executed", (accessor) -> (ExecutedAnimation)(new ExecutedAnimation(0.05F, 2.3F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.FIST_EXECUTE = builder.nextAccessor("biped/new/skill/fist_execute", (accessor) -> (ExecuteAnimation)(new ExecuteAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.3F, 0.3F, 0.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()), (new AttackAnimation.Phase(0.35F, 0.45F, 0.55F, 0.95F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()), (new AttackAnimation.Phase(1.0F, 1.15F, 1.4F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(3.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(EFRExtraDamageInstance.EFR_TARGET_CURRENT_HEALTH.create(new float[]{0.15F}))).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT_HARD.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT)})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.3F, CorruptAnimations.STAMINASKILL, Side.SERVER)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.RECOGNITION = builder.nextAccessor("biped/new/seethought/seethought", (accessor) -> (SeeThroughAnimation)(new SeeThroughAnimation(0.05F, 1.6F, accessor, Armatures.BIPED)).addEvents(new AnimationEvent[]{InTimeEvent.create(0.4F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.0F, 3.0F, -2.0F), ((HumanoidArmature)Armatures.BIPED.get()).legL, 1.55, 0.55F), InTimeEvent.create(0.35F, (entitypatch, animation, params) -> {
            Vec3 pos = ((LivingEntity)entitypatch.getOriginal()).position();
            entitypatch.playSound((SoundEvent)CorruptSound.SEETHROUGH.get(), 0.0F, 0.0F);
            ((LivingEntity)entitypatch.getOriginal()).level().addAlwaysVisibleParticle((ParticleOptions)EpicFightParticles.AIR_BURST.get(), pos.x, pos.y + (double)((LivingEntity)entitypatch.getOriginal()).getBbHeight() * (double)0.5F, pos.z, (double)0.0F, (double)-1.0F, (double)2.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.RECOGNIZED = builder.nextAccessor("biped/new/seethought/seethoughted", (accessor) -> (LongHitAnimation)(new LongHitAnimation(0.05F, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, false).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.8F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get())}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT));
        CorruptAnimations.TACHI_GUARD = builder.nextAccessor("biped/hit/guard_longsword", (accessor) -> new StaticAnimation(0.25F, true, accessor, Armatures.BIPED));
        CorruptAnimations.TACHI_GUARD_HIT = builder.nextAccessor("biped/hit/guard_longsword_hit", (accessor) -> new GuardAnimation(0.05F, accessor, Armatures.BIPED));
        CorruptAnimations.BIPED_HIT_LONG2 = builder.nextAccessor("biped/hit/hit_long", (accessor) -> new LongHitAnimation(0.08F, accessor, Armatures.BIPED));
        CorruptAnimations.GUARD_BREAK1 = builder.nextAccessor("biped/hit/guard_break1", (accessor) -> new LongHitAnimation(0.05F, accessor, Armatures.BIPED));
        CorruptAnimations.GUARD_BREAK2 = builder.nextAccessor("biped/hit/guard_break2", (accessor) -> new LongHitAnimation(0.05F, accessor, Armatures.BIPED));
        CorruptAnimations.GUARD_BREAK3 = builder.nextAccessor("biped/hit/guard_break3", (accessor) -> new LongHitAnimation(0.1F, accessor, Armatures.BIPED));
        CorruptAnimations.GUARD_BREAK4 = builder.nextAccessor("biped/hit/guard_break4", (accessor) -> new LongHitAnimation(0.05F, accessor, Armatures.BIPED));
        CorruptAnimations.PARRY_BREAK1 = builder.nextAccessor("biped/hit/parry_guard_break1", (accessor) -> new ParryBreakAnimation(0.05F, Float.MAX_VALUE, accessor, Armatures.BIPED));
        CorruptAnimations.PARRY_BREAK2 = builder.nextAccessor("biped/hit/parry_guard_break2", (accessor) -> new ParryBreakAnimation(0.05F, Float.MAX_VALUE, accessor, Armatures.BIPED));
        CorruptAnimations.PARRY_BREAK3 = builder.nextAccessor("biped/hit/parry_guard_break3", (accessor) -> new ParryBreakAnimation(0.05F, Float.MAX_VALUE, accessor, Armatures.BIPED));
        CorruptAnimations.PARRY_BREAK4 = builder.nextAccessor("biped/hit/parry_guard_break4", (accessor) -> new ParryBreakAnimation(0.05F, Float.MAX_VALUE, accessor, Armatures.BIPED));
        CorruptAnimations.PARRY_BREAK5 = builder.nextAccessor("biped/hit/parry_guard_break5", (accessor) -> new ParryBreakAnimation(0.05F, Float.MAX_VALUE, accessor, Armatures.BIPED));
        CorruptAnimations.PARRY_BREAK6 = builder.nextAccessor("biped/hit/parry_guard_break6", (accessor) -> (ParryBreakAnimation)(new ParryBreakAnimation(0.05F, 1.2F, accessor, Armatures.BIPED)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> elapsedTime >= 1.2F && (double)elapsedTime < 1.65 ? 0.3F : speed));
        CorruptAnimations.ROLL_FORWARD = builder.nextAccessor("biped/new/dodge/psstep/roll_forward", (accessor) -> new DodgeAnimation(0.1F, accessor, 0.6F, 0.8F, Armatures.BIPED));
        CorruptAnimations.ROLL_BACKWARD = builder.nextAccessor("biped/new/dodge/psstep/roll_backward", (accessor) -> new DodgeAnimation(0.1F, accessor, 0.6F, 0.8F, Armatures.BIPED));
        CorruptAnimations.ROLL_LEFT = builder.nextAccessor("biped/new/dodge/psstep/roll_left", (accessor) -> new DodgeAnimation(0.1F, accessor, 0.6F, 0.8F, Armatures.BIPED));
        CorruptAnimations.ROLL_RIGHT = builder.nextAccessor("biped/new/dodge/psstep/roll_right", (accessor) -> new DodgeAnimation(0.1F, accessor, 0.6F, 0.8F, Armatures.BIPED));
        CorruptAnimations.STEP_FORWARD = builder.nextAccessor("biped/new/dodge/psstep/step_forward", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, Float.MAX_VALUE, accessor, 0.6F, 1.65F, Armatures.BIPED)).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, Float.MAX_VALUE).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.STEP_BACKWARD = builder.nextAccessor("biped/new/dodge/psstep/step_backward", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, Float.MAX_VALUE, accessor, 0.6F, 1.65F, Armatures.BIPED)).newTimePair(0.0F, Float.MAX_VALUE).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.STEP_LEFT = builder.nextAccessor("biped/new/dodge/psstep/step_left", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, Float.MAX_VALUE, accessor, 0.6F, 1.65F, Armatures.BIPED)).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, Float.MAX_VALUE).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.STEP_RIGHT = builder.nextAccessor("biped/new/dodge/psstep/step_right", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, Float.MAX_VALUE, accessor, 0.6F, 1.65F, Armatures.BIPED)).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, Float.MAX_VALUE).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.WOLFDODGE_FORWARD = builder.nextAccessor("biped/new/dodge/wolfdodge/forward", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, 1.35F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.WOLFDODGE_BACKWARD = builder.nextAccessor("biped/new/dodge/wolfdodge/backward", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, 1.35F, accessor, 0.6F, 1.65F, Armatures.BIPED)).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.WOLFDODGE_RIGHT = builder.nextAccessor("biped/new/dodge/wolfdodge/right", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, 1.05F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.WOLFDODGE_LEFT = builder.nextAccessor("biped/new/dodge/wolfdodge/left", (accessor) -> (DodgeAnimation)(new DodgeAnimation(0.1F, 1.05F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.SSTEP_FORWARD = builder.nextAccessor("biped/new/dodge/step_forward", (accessor) -> (YamatoDodge)(new YamatoDodge(0.15F, 0.55F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.FORESIGHT.get(), 0.8F, 1.2F);
            entity.level().addParticle((ParticleOptions)CorruptParticles.CORRUPT_AFTER_IMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.SSTEP_BACKWARD = builder.nextAccessor("biped/new/dodge/step_backward", (accessor) -> (YamatoDodge)(new YamatoDodge(0.05F, 0.55F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.FORESIGHT.get(), 0.6F, 1.2F);
            entity.level().addParticle((ParticleOptions)CorruptParticles.CORRUPT_AFTER_IMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.SSTEP_LEFT = builder.nextAccessor("biped/new/dodge/step_left", (accessor) -> (YamatoDodge)(new YamatoDodge(0.02F, 0.5F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.FORESIGHT.get(), 0.8F, 1.5F);
            entity.level().addParticle((ParticleOptions)CorruptParticles.CORRUPT_AFTER_IMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.SSTEP_RIGHT = builder.nextAccessor("biped/new/dodge/step_right", (accessor) -> (YamatoDodge)(new YamatoDodge(0.02F, 0.5F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.FORESIGHT.get(), 0.8F, 1.2F);
            entity.level().addParticle((ParticleOptions)CorruptParticles.CORRUPT_AFTER_IMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.BIPED_HOLD_KATANA_SHEATHING = builder.nextAccessor("biped/new/katana/hold_katana_sheath", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.BIPED_HOLD_KATANA = builder.nextAccessor("biped/new/katana/hold_katana", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.RUN_KATANA = builder.nextAccessor("biped/new/katana/run_katana", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.WALK_KATANA = builder.nextAccessor("biped/new/katana/walk_unsheath", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.BIPED_KATANA_SCRAP = builder.nextAccessor("biped/new/katana/katana_scrap", (accessor) -> (new StaticAnimation(false, accessor, Armatures.BIPED)).addEvents(new AnimationEvent[]{InTimeEvent.create(0.15F, ReusableSources.PLAY_SOUND, Side.CLIENT).params((SoundEvent)EpicFightSounds.SWORD_IN.get())}));
        CorruptAnimations.KATANA_AUTO1 = builder.nextAccessor("biped/new/katana/katana_auto1", (accessor) -> new BasicAttackAnimation(0.15F, 0.05F, 0.16F, 0.2F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.KATANA_AUTO2 = builder.nextAccessor("biped/new/katana/katana_auto2", (accessor) -> new BasicAttackAnimation(0.2F, 0.05F, 0.11F, 0.2F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.KATANA_AUTO3 = builder.nextAccessor("biped/new/katana/katana_auto3", (accessor) -> new BasicAttackAnimation(0.16F, 0.1F, 0.21F, 0.59F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.KATANA_SHEATHING_AUTO = builder.nextAccessor("biped/new/katana/katana_sheath_auto", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.05F, 0.05F, 0.1F, 0.65F, ColliderPreset.BATTOJUTSU, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(30.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.adder(2.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(ActionAnimationProperty.RESET_PLAYER_COMBO_COUNTER, false));
        CorruptAnimations.KATANA_SHEATHING_DASH = builder.nextAccessor("biped/new/katana/katana_sheath_dash", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.06F, 0.05F, 0.05F, 0.11F, 0.65F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(30.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, EpicFightSounds.WHOOSH_SHARP.get()));
        CorruptAnimations.KATANA_SHEATHING_DASH_DAWN = builder.nextAccessor("biped/new/katana/katana_sheath_dash_dawn", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.06F, 0.05F, 0.05F, 0.11F, 0.65F, CorruptCollider.LETHAL_SLICING1, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(30.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).setResourceLocation("cdmoveset", "biped/new/katana/katana_sheath_dash"));
        CorruptAnimations.KATANA_AIR_SLASH = builder.nextAccessor("biped/new/katana/katana_airslash", (accessor) -> (AirSlashAnimation)(new AirSlashAnimation(0.1F, 0.05F, 0.16F, 0.3F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.FINISHER)));
        CorruptAnimations.KATANA_SHEATH_AIR_SLASH = builder.nextAccessor("biped/new/katana/katana_sheath_airslash", (accessor) -> (AirSlashAnimation)(new AirSlashAnimation(0.1F, 0.1F, 0.16F, 0.3F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(30.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.adder(2.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 2.0F).addProperty(ActionAnimationProperty.RESET_PLAYER_COMBO_COUNTER, false));
        CorruptAnimations.FATAL_DRAW = builder.nextAccessor("biped/new/katana/skill/fatal_draw", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.0F, 0.7F, 0.81F, 1.0F, ColliderPreset.BATTOJUTSU, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(15.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addEvents(new AnimationEvent[]{InTimeEvent.create(0.15F, ReusableSources.PLAY_SOUND, Side.CLIENT).params((SoundEvent)EpicFightSounds.SWORD_IN.get())}));
        CorruptAnimations.FATAL_DRAW_DAWN = builder.nextAccessor("biped/new/katana/skill/fatal_draw_dawn", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.0F, 0.7F, 0.81F, 1.0F, ColliderPreset.BATTOJUTSU, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(15.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).setResourceLocation("cdmoveset", "biped/new/katana/skill/fatal_draw").addEvents(new AnimationEvent[]{InTimeEvent.create(0.15F, ReusableSources.PLAY_SOUND, Side.CLIENT).params((SoundEvent)EpicFightSounds.SWORD_IN.get())}));
        CorruptAnimations.FATAL_DRAW_DASH = builder.nextAccessor("biped/new/katana/skill/fatal_draw_dash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.43F, 0.85F, 0.851F, 1.4F, CorruptCollider.FATAL_DRAW_DASH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(25.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addEvents(new AnimationEvent[]{InTimeEvent.create(0.15F, ReusableSources.PLAY_SOUND, Side.CLIENT).params((SoundEvent)EpicFightSounds.SWORD_IN.get())}).addEvents(new AnimationEvent[]{InTimeEvent.create(0.85F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entity.level().addParticle((ParticleOptions)CorruptParticles.CORRUPT_AFTER_IMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}));
        CorruptAnimations.BLADE_RUSH_FINISHER = builder.nextAccessor("biped/new/blade_rush_finisher", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.0F, 0.1F, 0.26F, 0.75F, CorruptCollider.BLADE_RUSH_FINISHER, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.BACKWARD_SLASH = builder.nextAccessor("biped/new/katana/skill/backward_slash", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.1F, 0.3F, 0.2F, 0.48F, 2.38F, CorruptCollider.YAMATO_P, ((HumanoidArmature)Armatures.BIPED.get()).toolL, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.75F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(5.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.005F));
        CorruptAnimations.CLASH = builder.nextAccessor("biped/new/katana/skill/backward_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.0F, 1.0F, 1.0F, 1.0F, 1.0F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolL, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.05F)).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.005F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            SoundEvent soundEvent = (SoundEvent)EpicFightSounds.WHOOSH_ROD.get();
            entity.level().playSound((Player)null, entity.getX(), entity.getY(), entity.getZ(), soundEvent, SoundSource.PLAYERS, 1.0F, 1.2F);
        }, Side.SERVER)}));
        CorruptAnimations.FATALFLASH = builder.nextAccessor("biped/skill/fatal_flash", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.05F, 0.0F, 0.05F, 0.15F, 0.65F, CorruptCollider.BLADE_RUSH_FINISHER, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(10.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.0F).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED).addEvents(new AnimationEvent[]{InTimeEvent.create(0.3F, CHASE, Side.BOTH)}).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).setResourceLocation("cdmoveset", "biped/new/katana/katana_sheath_dash").addEvents(new AnimationEvent[]{InTimeEvent.create(0.05F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}));
        CorruptAnimations.FATALFLASH_READY = builder.nextAccessor("biped/new/katana/skill/fatalflash_ready", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.05F, 1.2F, 1.2F, 1.2F, 0.5F, CorruptCollider.YAMATO_P, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.RESET_PLAYER_COMBO_COUNTER, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 4.0F})).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.SLOW_SPEED));
        CorruptAnimations.DUAL_GREATSWORD_AUTO1 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dual_auto_1", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.2F, 0.4F, 0.45F, 0.45F, InteractionHand.OFF_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null), (new AttackAnimation.Phase(0.45F, 0.5F, 0.7F, 0.8F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD)})).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.7F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.7F), 1).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.DUAL_GREATSWORD_AUTO2 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dual_auto_2", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.15F, 0.35F, 0.85F, 0.85F, CorruptCollider.GREATSWORD_DOUBLESWING, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(0.8F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addEvents(new AnimationEvent[]{InTimeEvent.create(0.85F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.0F, -1.0F, 2.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, (double)1.5F, 0.55F)}));
        CorruptAnimations.DUAL_GREATSWORD_AUTO3 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dual_auto_3", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.4F, 0.45F, 0.45F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.6F)), (new AttackAnimation.Phase(0.45F, 0.55F, 0.7F, 0.9F, Float.MAX_VALUE, InteractionHand.OFF_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD)})).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(3.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F), 1).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addEvents(new AnimationEvent[]{InTimeEvent.create(0.8F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.0F, -0.0F, -2.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, 1.15, 0.55F)}));
        CorruptAnimations.DUAL_GREATSWORD_AUTO4 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dual_auto_4", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.8F, 1.0F, 1.25F, InteractionHand.OFF_HAND, CorruptCollider.GREATSWORD_DUAL, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.8F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.DUAL_GREATSWORD_DASH = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dual_dash", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.05F, 0.1F, 0.4F, 0.4F, CorruptCollider.SHOULDER_BUMP, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.2F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.DUAL_GREATSWORD_AIRSLASH = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dual_airslash", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.05F, 0.25F, 0.4F, 0.45F, InteractionHand.OFF_HAND, CorruptCollider.AIRSLAM, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.FINISHER)).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.2F})).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.DUAL_GREATSWORD_SKILL = builder.nextAccessor("biped/new/dual_greatsword/skill/greatsword_dual_earthquake", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 1.1F, 1.1F, 1.25F, 1.25F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.GREATSWORD_DOUBLESWING)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(1.25F, 1.3F, 1.4F, 1.5F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.GREATSWORD_DUAL)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F))})).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(2.0F), 1).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.05F).addEvents(new AnimationEvent[]{InTimeEvent.create(1.3F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.0F, -0.24F, -2.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, 2.55, 0.55F)}));
        CorruptAnimations.LION_CLOW = builder.nextAccessor("biped/new/dual_greatsword/skill/lion_clow", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 2.1F, 2.4F, 2.45F, 2.45F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.GREATSWORD_DOUBLESWING)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.2F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.05F).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addState(EntityState.MOVEMENT_LOCKED, true).addEvents(new AnimationEvent[]{InTimeEvent.create(2.3F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.0F, -0.24F, -2.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, 2.55, 0.55F)}));
        CorruptAnimations.DUAL_GREATSWORD_IDLE = builder.nextAccessor("biped/new/dual_greatsword/living/greatsword_dual_idle", (accessor) -> new StaticAnimation(0.1F, true, accessor, Armatures.BIPED));
        CorruptAnimations.DUAL_GREATSWORD_WALK = builder.nextAccessor("biped/new/dual_greatsword/living/greatsword_dual_walk", (accessor) -> new MovementAnimation(0.1F, true, accessor, Armatures.BIPED));
        CorruptAnimations.DUAL_GREATSWORD_RUN = builder.nextAccessor("biped/new/dual_greatsword/living/greatsword_dual_run", (accessor) -> new MovementAnimation(0.1F, true, accessor, Armatures.BIPED));
        CorruptAnimations.GREATSWORD_OLD_IDLE = builder.nextAccessor("biped/new/dual_greatsword/living/hold_greatsword", (accessor) -> new MovementAnimation(0.1F, true, accessor, Armatures.BIPED));
        CorruptAnimations.GREATSWORD_OLD_WALK = builder.nextAccessor("biped/new/dual_greatsword/living/walk_greatsword", (accessor) -> new MovementAnimation(0.1F, true, accessor, Armatures.BIPED));
        CorruptAnimations.GREATSWORD_OLD_RUN = builder.nextAccessor("biped/new/dual_greatsword/living/run_greatsword", (accessor) -> new MovementAnimation(0.1F, true, accessor, Armatures.BIPED));
        CorruptAnimations.GREATSWORD_OLD_AUTO1 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_twohand_auto_1", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.3F, 0.4F, 0.5F, InteractionHand.MAIN_HAND, ColliderPreset.GREATSWORD, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.05F));
        CorruptAnimations.GREATSWORD_OLD_AUTO2 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_twohand_auto_2", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.3F, 0.4F, 0.5F, InteractionHand.MAIN_HAND, ColliderPreset.GREATSWORD, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.05F));
        CorruptAnimations.GREATSWORD_OLD_AUTO3 = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_twohand_auto_3", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.4F, 0.5F, 0.6F, InteractionHand.MAIN_HAND, ColliderPreset.GREATSWORD, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.05F));
        CorruptAnimations.GREATSWORD_OLD_DASH = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_dash", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.11F, 0.4F, 0.65F, 0.8F, 1.2F, ColliderPreset.GREATSWORD, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.adder(1.0F)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, Boolean.TRUE));
        CorruptAnimations.GREATSWORD_OLD_AIRSLASH = builder.nextAccessor("biped/new/dual_greatsword/combat/greatsword_airslash", (accessor) -> new AirSlashAnimation(0.1F, 0.5F, 0.55F, 0.71F, 0.75F, false, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.WIND_SLASH = builder.nextAccessor("biped/new/wind_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.3F, 0.35F, 0.55F, 0.9F, 0.9F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD), (new AttackAnimation.Phase(0.9F, 0.95F, 1.05F, 1.2F, 1.5F, 1.5F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD), (new AttackAnimation.Phase(1.5F, 1.65F, 1.75F, 1.95F, 2.5F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG)})).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, Boolean.FALSE).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.OLD_GREATSWORD_DASH = builder.nextAccessor("biped/new/vanilla_greatsword_dash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.11F, 0.4F, 0.65F, 0.8F, 1.2F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F));
        CorruptAnimations.LETHAL_SLICING_START = builder.nextAccessor("biped/new/lethal_slicing_start", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.05F, 0.1F, 0.15F, 0.38F, ColliderPreset.FIST_FIXED, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.LETHAL_SLICING_ONCE = builder.nextAccessor("biped/new/lethal_slicing_once", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.06F, 0.1F, 0.25F, 0.6F, CorruptCollider.LETHAL_SLICING, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.LETHAL_SLICING_TWICE = builder.nextAccessor("biped/new/lethal_slicing_twice", (accessor) -> (AttackAnimation)(new AttackAnimation(0.015F, 0.06F, 0.1F, 0.35F, 0.6F, CorruptCollider.LETHAL_SLICING, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(50.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.LETHAL_SLICING_ONCE1 = builder.nextAccessor("biped/new/lethal_slicing_once1", (accessor) -> (AttackAnimation)(new AttackAnimation(0.015F, 0.06F, 0.1F, 0.15F, 0.85F, CorruptCollider.LETHAL_SLICING1, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(50.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.SWORD_SLASH = builder.nextAccessor("biped/new/sword_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.2F, 0.1F, 0.35F, 0.46F, 0.79F, ColliderPreset.BIPED_BODY_COLLIDER, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.45F).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, false));
        CorruptAnimations.SSPEAR_ONEHAND_AUTO = builder.nextAccessor("biped/new/spear/spear_onehand_auto", (accessor) -> new BasicAttackAnimation(0.16F, 0.1F, 0.2F, 0.45F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.SSPEAR_TWOHAND_AUTO1 = builder.nextAccessor("biped/new/spear/spear_twohand_auto1", (accessor) -> new BasicAttackAnimation(0.25F, 0.05F, 0.15F, 0.45F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.SSPEAR_TWOHAND_AUTO2 = builder.nextAccessor("biped/new/spear/spear_twohand_auto2", (accessor) -> new BasicAttackAnimation(0.25F, 0.05F, 0.15F, 0.45F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.SSPEAR_DASH = builder.nextAccessor("biped/new/spear/spear_dash", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.16F, 0.05F, 0.2F, 0.3F, 0.7F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true));
        CorruptAnimations.SPEAR_SLASH = builder.nextAccessor("biped/new/spear_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.11F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.25F, 0.36F, 0.5F, 0.5F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), new AttackAnimation.Phase(0.5F, 0.0F, 0.0F, 0.75F, 0.75F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), (new AttackAnimation.Phase(0.75F, 0.75F, 0.81F, 1.05F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F));
        CorruptAnimations.DUAL_SLASH = builder.nextAccessor("biped/new/dual_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.2F, 0.31F, 0.4F, 0.4F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), new AttackAnimation.Phase(0.4F, 0.5F, 0.61F, 0.65F, 0.65F, InteractionHand.OFF_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null), (new AttackAnimation.Phase(0.65F, 0.75F, 0.85F, 1.15F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG)})).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.YAMATO_STEP_FORWARD = builder.nextAccessor("biped/new/yamato_step_forward", (accessor) -> (YamatoDodge)(new YamatoDodge(0.005F, 0.55F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.2F})).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.YAMATO_STEP.get(), 1.5F, 1.5F);
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.YAMATO_STEP_BACKWARD = builder.nextAccessor("biped/new/yamato_step_backward", (accessor) -> (YamatoDodge)(new YamatoDodge(0.005F, 0.55F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.2F})).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.YAMATO_STEP.get(), 1.5F, 1.5F);
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.YAMATO_STEP_LEFT = builder.nextAccessor("biped/new/yamato_step_left", (accessor) -> (YamatoDodge)(new YamatoDodge(0.02F, 0.55F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.2F})).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.YAMATO_STEP.get(), 1.5F, 1.5F);
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.YAMATO_STEP_RIGHT = builder.nextAccessor("biped/new/yamato_step_right", (accessor) -> (YamatoDodge)(new YamatoDodge(0.02F, 0.55F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.5F})).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.YAMATO_STEP.get(), 1.5F, 1.5F);
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.YAMATO_CHASE = builder.nextAccessor("biped/new/yamato_chase", (accessor) -> (YamatoDodge)(new YamatoDodge(0.05F, 0.85F, accessor, 0.6F, 1.65F, Armatures.BIPED)).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.5F})).addEvents(new AnimationEvent[]{InTimeEvent.create(0.3F, CHASE, Side.BOTH)}).addEvents(StaticAnimationProperty.ON_BEGIN_EVENTS, new AnimationEvent[]{SimpleEvent.create((entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entitypatch.playSound((SoundEvent)CorruptSound.YAMATO_STEP.get(), 1.5F, 1.5F);
            ((LivingEntity)entitypatch.getOriginal()).level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).newTimePair(0.0F, 0.5F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.YAMATO_IDLE = builder.nextAccessor("biped/new/yamato/yamato_idle", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.YAMATO_WALK = builder.nextAccessor("biped/new/yamato/yamato_walk", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.YAMATO_RUN = builder.nextAccessor("biped/new/yamato/yamato_run", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.YAMATO_GUARD = builder.nextAccessor("biped/new/yamato/yamato_guard", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.YAMATO_GUARD_HIT = builder.nextAccessor("biped/new/yamato/yamato_guard_hit", (accessor) -> new GuardAnimation(0.05F, accessor, Armatures.BIPED));
        CorruptAnimations.YAMATO_ACTIVE_GUARD_HIT = builder.nextAccessor("biped/new/yamato/yamato_guard_parry", (accessor) -> (YamatoParryAnimation)(new YamatoParryAnimation(0.02F, 0.5F, accessor, Armatures.BIPED)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.YAMATO_ACTIVE_GUARD_HIT2 = builder.nextAccessor("biped/new/yamato/yamato_guard_parry2", (accessor) -> (YamatoParryAnimation)(new YamatoParryAnimation(0.02F, 0.5F, accessor, Armatures.BIPED)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.YAMATO_AUTO1 = builder.nextAccessor("biped/new/yamato/yamato_auto1", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.25F, 0.3F, 0.35F, 0.55F, 0.55F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, CorruptCollider.YAMATO_SHEATH)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT), (new AttackAnimation.Phase(0.55F, 0.56F, 0.65F, 0.75F, 0.75F, 1.28F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, CorruptCollider.YAMATO_SHEATH)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.9F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).newTimePair(1.3F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(1.28F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(0.0F, YAMATO_IN, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_AUTO2 = builder.nextAccessor("biped/new/yamato/yamato_auto2", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.3F, 0.37F, 0.53F, 0.53F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(0.53F, 0.6F, 0.67F, 0.73F, 1.75F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.9F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).newTimePair(1.2F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.25F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.78F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.8F, CorruptAnimations.STAMINAR, Side.SERVER), InTimeEvent.create(1.75F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(1.8F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get())}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_AUTO3 = builder.nextAccessor("biped/new/yamato/yamato_auto3", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.7F, 0.78F, 0.88F, 0.88F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), (new AttackAnimation.Phase(0.88F, 1.12F, 1.23F, 1.25F, 2.05F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(1.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.1F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.75F).newTimePair(1.75F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.1F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.1F, CorruptAnimations.STAMINAR, Side.SERVER), InTimeEvent.create(2.05F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(2.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get())}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_AUTO4 = builder.nextAccessor("biped/new/yamato/yamato_auto4", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.81F, 0.9F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(15.0F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.95F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addEvents(new AnimationEvent[]{InTimeEvent.create(1.5F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(1.7F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(1.9F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.45F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(2.5F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.5F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.55F, CorruptAnimations.STAMINA, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_DASH = builder.nextAccessor("biped/new/yamato/yamato_dash", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.12F, 0.1F, 0.25F, 0.4F, 0.65F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.adder(2.0F)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, Boolean.TRUE));
        CorruptAnimations.YAMATO_AIRSLASH = builder.nextAccessor("biped/new/yamato/yamato_airslash", (accessor) -> (AirSlashAnimation)(new AirSlashAnimation(0.25F, 0.15F, 0.26F, 0.5F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.adder(1.5F)));
        CorruptAnimations.YAMATO_POWER1 = builder.nextAccessor("biped/new/yamato/skill/yamato_power1", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.05F, 0.42F, 0.43F, 0.53F, 3.83F, CorruptCollider.YAMATO_P, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(15.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.FINISHER)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.8F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.3F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.89F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.43F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), InTimeEvent.create(2.89F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.9F, CorruptAnimations.STAMINASKILL, Side.SERVER)}));
        CorruptAnimations.YAMATO_RISING_STAR = builder.nextAccessor("biped/new/yamato/skill/yamato_rising_star", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.6F, 0.9F, 1.0F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.75F)), (new AttackAnimation.Phase(1.0F, 1.05F, 1.35F, 1.65F, 2.1F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.RISING_STAR)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(3.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F))})).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, false).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.3F, 1.9F})).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addState(EntityState.TURNING_LOCKED, false).addState(EntityState.MOVEMENT_LOCKED, true).newTimePair(0.0F, 1.55F).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.AIR).addEvents(new AnimationEvent[]{InTimeEvent.create(0.43F, (entitypatch, animation, params) -> {
            LivingEntity original = (LivingEntity)entitypatch.getOriginal();
            Entity target = entitypatch.getTarget();
            if (target != null) {
                Vec3 lookVec = target.getViewVector(1.0F);
                double distanceInfront = (double)2.0F;
                double teleportX = target.getX() + lookVec.x * distanceInfront;
                double teleportY = original.getY();
                double teleportZ = target.getZ() + lookVec.z * distanceInfront;
                int steps = 20;
                double startX = original.getX();
                double startY = original.getY();
                double startZ = original.getZ();

                for(int i = 0; i <= steps; ++i) {
                    double progress = (double)i / (double)steps;
                    double currentX = startX + (teleportX - startX) * progress;
                    double currentY = startY + (teleportY - startY) * progress;
                    double currentZ = startZ + (teleportZ - startZ) * progress;
                    original.teleportTo(currentX, currentY, currentZ);
                }
            }

        }, Side.SERVER), InTimeEvent.create(0.05F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.3F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.93F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(1.93F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(1.93F, YAMATO_IN, Side.SERVER)}));
        CorruptAnimations.YAMATO_AIR1 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_air1", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.4F, 0.45F, 2.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.15F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(0.005F))})).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.75F})).addStateRemoveOld(EntityState.TURNING_LOCKED, false).newTimePair(0.7F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.0F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.4F, (entitypatch, animation, params) -> {
            LivingEntity original = (LivingEntity)entitypatch.getOriginal();
            Entity target = entitypatch.getTarget();
            if (target != null) {
                Vec3 lookVec = target.getViewVector(1.0F);
                double distanceInfront = (double)2.0F;
                double teleportX = target.getX() + lookVec.x * distanceInfront;
                double teleportY = target.getY();
                double teleportZ = target.getZ() + lookVec.z * distanceInfront;
                int steps = 20;
                double startX = original.getX();
                double startY = original.getY();
                double startZ = original.getZ();

                for(int i = 0; i <= steps; ++i) {
                    double progress = (double)i / (double)steps;
                    double currentX = startX + (teleportX - startX) * progress;
                    double currentY = startY + (teleportY - startY) * progress;
                    double currentZ = startZ + (teleportZ - startZ) * progress;
                    original.teleportTo(currentX, currentY, currentZ);
                }
            }

        }, Side.SERVER), InTimeEvent.create(1.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.0F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.0F, COMBO_BREAK, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_AIR2 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_air2", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.5F, 0.45F, 2.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.15F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F))})).addStateRemoveOld(EntityState.TURNING_LOCKED, false).newTimePair(0.7F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.75F})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.15F).addEvents(new AnimationEvent[]{InTimeEvent.create(1.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.0F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.0F, COMBO_BREAK, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_AIR3 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_air3", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.45F, 0.6F, 2.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(1.5F))})).addStateRemoveOld(EntityState.TURNING_LOCKED, false).newTimePair(0.8F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.75F})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.25F).addEvents(new AnimationEvent[]{InTimeEvent.create(1.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.0F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.0F, COMBO_BREAK, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_RISING_STAR_END = builder.nextAccessor("biped/new/yamato/skill/yamato_rising_star_end", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.25F, 0.3F, 0.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(4.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.75F)), (new AttackAnimation.Phase(0.3F, 0.35F, 0.55F, 0.55F, 0.55F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.75F)), (new AttackAnimation.Phase(0.55F, 0.6F, 0.8F, 0.9F, 0.9F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.75F)), (new AttackAnimation.Phase(0.9F, 1.0F, 1.25F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F))})).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, false).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.95F})).addProperty(ActionAnimationProperty.MOVE_ON_LINK, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addState(EntityState.MOVEMENT_LOCKED, true).addStateRemoveOld(EntityState.TURNING_LOCKED, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> {
            if (elapsedTime >= 0.95F && elapsedTime < 1.25F) {
                float dpx = (float)((LivingEntity)entitypatch.getOriginal()).getX();
                float dpy = (float)((LivingEntity)entitypatch.getOriginal()).getY();
                float dpz = (float)((LivingEntity)entitypatch.getOriginal()).getZ();

                for(BlockState block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz)); (block.getBlock() instanceof BushBlock || block.isAir()) && !block.is(Blocks.VOID_AIR); block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz))) {
                    --dpy;
                }

                float distanceToGround = (float)Math.max(Math.abs(((LivingEntity)entitypatch.getOriginal()).getY() - (double)dpy) - (double)1.0F, (double)0.0F);
                return 1.0F - (1.0F / (-distanceToGround - 1.0F) + 1.0F);
            } else {
                return speed;
            }
        }).addEvents(new AnimationEvent[]{InTimeEvent.create(1.25F, (entitypatch, self, params) -> {
            float cost = 3.0F;
            if (entitypatch instanceof ServerPlayerPatch patch) {
                patch.setStamina(patch.getStamina() - cost);
            }

            ((LivingEntity)entitypatch.getOriginal()).resetFallDistance();
        }, Side.SERVER), InTimeEvent.create(2.95F, CorruptAnimations.STAMINASKILL, Side.SERVER), InTimeEvent.create(2.95F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.95F, YAMATO_IN, Side.SERVER)}));
        CorruptAnimations.YAMATO_RISING_STAR_SKILL_DAWN = builder.nextAccessor("biped/new/yamato/skill/yamato_rising_star_skill", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.05F, 0.2F, 0.25F, 0.25F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(0.25F, 0.3F, 0.55F, 0.6F, 0.6F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(0.6F, 0.65F, 0.85F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get())})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.95F})).addProperty(ActionAnimationProperty.COORD_SET_TICK, (MoveCoordFunctions.MoveCoordSetter)(self, entitypatch, transformSheet) -> {
            LivingEntity attackTarget = entitypatch.getTarget();
            if (!(Boolean)self.getProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE).orElse(false) && attackTarget != null) {
                TransformSheet transform = ((TransformSheet)self.getTransfroms().get("Root")).copyAll();
                Keyframe[] keyframes = transform.getKeyframes();
                int startFrame = 0;
                int endFrame = transform.getKeyframes().length - 1;
                Vec3f keyLast = keyframes[endFrame].transform().translation();
                Vec3 pos = ((LivingEntity)entitypatch.getOriginal()).getEyePosition();
                Vec3 targetpos = attackTarget.position().add(attackTarget.getDeltaMovement().scale((double)8.0F));
                float horizontalDistance = Math.max((float)targetpos.subtract(pos).horizontalDistance() * 1.3F - (attackTarget.getBbWidth() + ((LivingEntity)entitypatch.getOriginal()).getBbWidth()), 0.0F);
                Vec3f worldPosition = new Vec3f(keyLast.x, 0.0F, -horizontalDistance);
                float scale = Math.min(worldPosition.length() / keyLast.length(), 2.0F);

                for(int i = startFrame; i <= endFrame; ++i) {
                    Vec3f translation = keyframes[i].transform().translation();
                    translation.z *= scale;
                }

                transformSheet.readFrom(transform);
            } else {
                transformSheet.readFrom((TransformSheet)self.getTransfroms().get("Root"));
            }

        }).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F).newTimePair(0.0F, Float.MAX_VALUE).addState(EntityState.MOVEMENT_LOCKED, true).newTimePair(1.1F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.05F, (entitypatch, animation, params) -> {
            LivingEntity original = (LivingEntity)entitypatch.getOriginal();
            Entity target = entitypatch.getTarget();
            if (target != null) {
                Vec3 lookVec = target.getViewVector(1.0F);
                double distanceInfront = (double)2.0F;
                double teleportX = target.getX() + lookVec.x * distanceInfront;
                double teleportY = target.getY();
                double teleportZ = target.getZ() + lookVec.z * distanceInfront;
                int steps = 20;
                double startX = original.getX();
                double startY = original.getY();
                double startZ = original.getZ();

                for(int i = 0; i <= steps; ++i) {
                    double progress = (double)i / (double)steps;
                    double currentX = startX + (teleportX - startX) * progress;
                    double currentY = startY + (teleportY - startY) * progress;
                    double currentZ = startZ + (teleportZ - startZ) * progress;
                    original.teleportTo(currentX, currentY, currentZ);
                }
            }

        }, Side.SERVER), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.5F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.6F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.5F, CorruptAnimations.STAMINA, Side.SERVER)}).addState(EntityState.LOCKON_ROTATE, true));
        CorruptAnimations.YAMATO_AIR_RISE = builder.nextAccessor("biped/new/yamato/skill/yamato_air_rise", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.15F, 0.25F, 0.3F, 0.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.25F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(0.3F, 0.35F, 0.45F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F))})).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.5F})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.8F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.8F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(0.8F, CorruptAnimations.STAMINA, Side.SERVER)}).addState(EntityState.LOCKON_ROTATE, true));
        CorruptAnimations.YAMATO_DAWN = builder.nextAccessor("biped/new/yamato/skill/yamato_dawn", (accessor) -> (FallAttackAnimation)(new FallAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.75F, 1.0F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.DAWN)})).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.68F})).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> {
            if (elapsedTime >= 0.65F && elapsedTime < 1.05F) {
                float dpx = (float)((LivingEntity)entitypatch.getOriginal()).getX();
                float dpy = (float)((LivingEntity)entitypatch.getOriginal()).getY();
                float dpz = (float)((LivingEntity)entitypatch.getOriginal()).getZ();

                for(BlockState block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz)); (block.getBlock() instanceof BushBlock || block.isAir()) && !block.is(Blocks.VOID_AIR); block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz))) {
                    --dpy;
                }

                float distanceToGround = (float)Math.max(Math.abs(((LivingEntity)entitypatch.getOriginal()).getY() - (double)dpy) - (double)1.0F, (double)0.0F);
                return 1.0F - (1.0F / (-distanceToGround - 1.0F) + 1.0F);
            } else {
                return speed;
            }
        }).addEvents(new AnimationEvent[]{InTimeEvent.create(1.2F, (entitypatch, self, params) -> ((LivingEntity)entitypatch.getOriginal()).resetFallDistance(), Side.SERVER), InTimeEvent.create(0.7F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.15F, YAMATO_IN, Side.SERVER), InTimeEvent.create(4.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get())}));
        CorruptAnimations.YAMATO_DAWN_DAWN = builder.nextAccessor("biped/new/yamato/skill/yamato_dawn_dawn", (accessor) -> (FallAttackAnimation)(new FallAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.75F, 1.0F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.DAWN)})).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.0F).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.68F})).setResourceLocation("cdmoveset", "biped/new/yamato/skill/yamato_dawn").addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> {
            if (elapsedTime >= 0.65F && elapsedTime < 1.05F) {
                float dpx = (float)((LivingEntity)entitypatch.getOriginal()).getX();
                float dpy = (float)((LivingEntity)entitypatch.getOriginal()).getY();
                float dpz = (float)((LivingEntity)entitypatch.getOriginal()).getZ();

                for(BlockState block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz)); (block.getBlock() instanceof BushBlock || block.isAir()) && !block.is(Blocks.VOID_AIR); block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz))) {
                    --dpy;
                }

                float distanceToGround = (float)Math.max(Math.abs(((LivingEntity)entitypatch.getOriginal()).getY() - (double)dpy) - (double)1.0F, (double)0.0F);
                return 1.0F - (1.0F / (-distanceToGround - 1.0F) + 1.0F);
            } else {
                return speed;
            }
        }).addEvents(new AnimationEvent[]{InTimeEvent.create(1.2F, (entitypatch, self, params) -> ((LivingEntity)entitypatch.getOriginal()).resetFallDistance(), Side.SERVER), InTimeEvent.create(0.7F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.15F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.15F, CorruptAnimations.STAMINASKILL, Side.SERVER), InTimeEvent.create(4.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get())}));
        CorruptAnimations.YAMATO_DAWN_END = builder.nextAccessor("biped/new/yamato/skill/yamato_dawn_end", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.0F, 0.0F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.END).newTimePair(0.0F, Float.MAX_VALUE).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addState(EntityState.MOVEMENT_LOCKED, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.5F, -0.24F, -2.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, 2.55, 0.55F), InTimeEvent.create(1.32F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(1.45F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(1.65F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH.get(), 0.5F, 1.1F - ((new Random()).nextFloat() - 0.5F) * 0.2F), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.7F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.45F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(2.55F, CorruptAnimations.STAMINA, Side.SERVER), InTimeEvent.create(2.5F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get())}));
        CorruptAnimations.YAMATO_POWER2 = builder.nextAccessor("biped/new/yamato/skill/yamato_power2", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.62F, 0.68F, 1.05F, 1.05F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(3.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)), (new AttackAnimation.Phase(1.05F, 1.28F, 1.55F, 4.91F, 4.91F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.8F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.01F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(4.4F, YAMATO_IN, Side.SERVER), InTimeEvent.create(4.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(4.1F, CorruptAnimations.STAMINASKILL, Side.SERVER)}));
        CorruptAnimations.YAMATO_POWER3 = builder.nextAccessor("biped/new/yamato/skill/yamato_power3", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.67F, 0.73F, 0.88F, 0.88F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.25F)), (new AttackAnimation.Phase(0.88F, 0.94F, 1.0F, 1.0F, 1.8F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.25F))})).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, Boolean.FALSE).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addState(EntityState.LOCKON_ROTATE, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.75F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)4.0F * (double)x;
                    double offsetY = (Math.random() - (double)0.5F) * (double)2.0F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)4.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle(ParticleTypes.SWEEP_ATTACK, particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(0.95F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)4.0F * (double)x;
                    double offsetY = (Math.random() - (double)0.5F) * (double)2.0F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)4.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle(ParticleTypes.SWEEP_ATTACK, particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(0.15F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.SWORD_IN.get()), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.4667F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.65F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.15F, YAMATO_IN, Side.SERVER)}));
        CorruptAnimations.YAMATO_POWER3_REPEAT = builder.nextAccessor("biped/new/yamato/skill/yamato_power3_repeat", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.05F, 0.24F, 0.25F, 0.25F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.25F)), (new AttackAnimation.Phase(0.25F, 0.31F, 0.36F, 0.48F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.25F))})).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.15F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)4.0F * (double)x;
                    double offsetY = (Math.random() - (double)0.5F) * (double)2.0F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)4.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle(ParticleTypes.SWEEP_ATTACK, particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(0.35F, (entitypatch, animation, params) -> {
            Vec3 direction = ((LivingEntity)entitypatch.getOriginal()).getLookAngle();

            for(int x = -1; x <= 1; ++x) {
                for(int z = -1; z <= 1; ++z) {
                    double offsetX = (Math.random() - (double)0.5F) * (double)4.0F * (double)x;
                    double offsetY = (Math.random() - (double)0.5F) * (double)2.0F;
                    double offsetZ = (Math.random() - (double)0.5F) * (double)4.0F * (double)z;
                    double distance = (double)1.5F;
                    double particleX = ((LivingEntity)entitypatch.getOriginal()).getX() + direction.x * distance + offsetX;
                    double particleY = ((LivingEntity)entitypatch.getOriginal()).getY() + direction.y * distance + 1.2 + offsetY;
                    double particleZ = ((LivingEntity)entitypatch.getOriginal()).getZ() + direction.z * distance + offsetZ;
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle(ParticleTypes.SWEEP_ATTACK, particleX, particleY, particleZ, (double)0.0F, (double)0.0F, (double)0.0F);
                }
            }

        }, Side.CLIENT), InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.5F, YAMATO_IN, Side.SERVER)}).addEvents(new AnimationEvent[]{InPeriodEvent.create(0.35F, 1.0F, (entitypatch, animation, params) -> {
            Vec3 pos = ((LivingEntity)entitypatch.getOriginal()).position();

            for(int x = -1; x <= 1; x += 2) {
                for(int z = -1; z <= 1; z += 2) {
                    Vec3 rand = (new Vec3(Math.random() * (double)x, Math.random(), Math.random() * (double)z)).normalize().scale((double)2.0F);
                    ((LivingEntity)entitypatch.getOriginal()).level().addParticle(ParticleTypes.PORTAL, pos.x + rand.x, pos.y + rand.y - (double)1.0F, pos.z + rand.z, rand.x * 0.1, rand.y * 0.1, rand.z * 0.1);
                }
            }

        }, Side.CLIENT)}));
        CorruptAnimations.YAMATO_POWER3_FINISH = builder.nextAccessor("biped/new/yamato/skill/yamato_power3_finish", (accessor) -> (YamatoSkillAnimation)(new YamatoSkillAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.05F, 0.13F, 0.43F, 0.43F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.05F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(4.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(0.43F, 0.82F, 0.9F, 1.35F, 1.5F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH_FINISH)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(50.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)CorruptSound.YAMATO_IN.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN)})).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.13F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.9F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.05F, COMBO_BREAK, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false));
        CorruptAnimations.YAMATO_POWER_DASH = builder.nextAccessor("biped/new/yamato/skill/yamato_power_dash", (accessor) -> (YamatoSkillAnimation)(new YamatoSkillAnimation(0.005F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.38F, 0.9F, 1.17F, 1.17F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.75F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_BIG.get()).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(4.0F)), (new AttackAnimation.Phase(1.17F, 1.6F, 1.67F, 2.26F, 2.26F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH_FINISH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(75.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)CorruptSound.YAMATO_IN.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL)})).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, Boolean.TRUE).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addStateRemoveOld(EntityState.CAN_SKILL_EXECUTION, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.55F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), InTimeEvent.create(0.7F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.6F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.35F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT)}));
        CorruptAnimations.YAMATO_COUNTER1 = builder.nextAccessor("biped/new/yamato/skill/yamato_counter_1", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.05F, 0.6F, 0.6F, 0.8F, 1.2F, CorruptCollider.YAMATO_DASH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.EVISCERATE.get()).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.9F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, Boolean.TRUE).addProperty(StaticAnimationProperty.FIXED_HEAD_ROTATION, true).newTimePair(0.0F, 2.38F).addStateRemoveOld(EntityState.MOVEMENT_LOCKED, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.05F, YAMATO_OUT, Side.SERVER)}));
        CorruptAnimations.YAMATO_COUNTER2 = builder.nextAccessor("biped/new/yamato/skill/yamato_counter_2", (accessor) -> (AttackAnimation)(new AttackAnimation(0.02F, 0.01F, 0.55F, 0.56F, 1.15F, CorruptCollider.YAMATO_P0, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(0.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)CorruptSound.YAMATO_IN.get()).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.1F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addProperty(ActionAnimationProperty.RESET_PLAYER_COMBO_COUNTER, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.55F, YAMATO_IN, Side.SERVER)}));
        CorruptAnimations.YAMATO_STRIKE1 = builder.nextAccessor("biped/new/yamato/skill/yamato_strike1", (accessor) -> (YamtoCounterAttackAnimation)(new YamtoCounterAttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.51F, 0.62F, 0.72F, 0.72F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(0.75F, 0.78F, 0.87F, 0.9F, 1.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.1F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.85F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).newTimePair(1.47F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.48F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.81F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.55F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(0.28F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT), InTimeEvent.create(0.84F, (entitypatch, animation, params) -> {
            if (entitypatch instanceof ServerPlayerPatch patch) {
                BasicAttack.setComboCounterWithEvent(Causal.ANOTHER_ACTION_ANIMATION, patch, patch.getSkill(SkillSlots.BASIC_ATTACK), CorruptAnimations.YAMATO_STRIKE1, 2);
            }

        }, Side.SERVER), InTimeEvent.create(1.5F, COMBO_BREAK, Side.SERVER)}));
        CorruptAnimations.YAMATO_STRIKE2 = builder.nextAccessor("biped/new/yamato/skill/yamato_strike2", (accessor) -> (YamtoCounterAttackAnimation)(new YamtoCounterAttackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.82F, 0.95F, 1.0F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.2F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(1.0F, 1.1F, 1.32F, 1.42F, 1.65F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.2F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(1.5F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.85F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addState(EntityState.LOCKON_ROTATE, true).newTimePair(1.75F, Float.MAX_VALUE).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.46F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.11F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.86F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(0.28F, (entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            entity.level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
        }, Side.CLIENT), InTimeEvent.create(1.36F, (entitypatch, animation, params) -> {
            if (entitypatch instanceof ServerPlayerPatch patch) {
                BasicAttack.setComboCounterWithEvent(Causal.ANOTHER_ACTION_ANIMATION, patch, patch.getSkill(SkillSlots.BASIC_ATTACK), CorruptAnimations.YAMATO_STRIKE2, 3);
            }

        }, Side.SERVER), InTimeEvent.create(1.75F, COMBO_BREAK, Side.SERVER)}));
        CorruptAnimations.YAMATO_POWER0_1 = builder.nextAccessor("biped/new/yamato/skill/yamato_power0_1", (accessor) -> (YamatoSkillAnimation)(new YamatoSkillAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.75F, 0.767F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.LETHAL_SLICING)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(0.25F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.SWORD_IN.get()).addProperty(AttackPhaseProperty.PARTICLE, CorruptParticles.FORESIGHT).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.67F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.74F, YAMATO_IN, Side.SERVER)}));
        CorruptAnimations.YAMATO_POWER0_2 = builder.nextAccessor("biped/new/yamato/skill/yamato_power0_2", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.005F, 0.55F, 0.567F, 0.7F, 0.7F, CorruptCollider.YAMATO_P0, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.PARTICLE, CorruptParticles.FORESIGHT).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(0.25F)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).newTimePair(0.0F, 1.5F).addStateRemoveOld(EntityState.MOVEMENT_LOCKED, true).addEvents(StaticAnimationProperty.ON_BEGIN_EVENTS, new AnimationEvent[]{SimpleEvent.create((entitypatch, animation, params) -> {
            Entity entity = entitypatch.getOriginal();
            ((LivingEntity)entitypatch.getOriginal()).level().addParticle((ParticleOptions)EpicFightParticles.WHITE_AFTERIMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
            entitypatch.playSound((SoundEvent)CorruptSound.FORESIGHT.get(), 1.0F, 0.0F, 0.0F);
        }, Side.CLIENT)}).addEvents(new AnimationEvent[]{InTimeEvent.create(0.488F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(0.54F, YAMATO_IN, Side.SERVER), InTimeEvent.create(0.5F, CorruptAnimations.STAMINASKILL, Side.SERVER), InTimeEvent.create(1.05F, COMBO_BREAK, Side.SERVER)}));
        CorruptAnimations.YAMATO_RISING_SLASH = builder.nextAccessor("biped/new/yamato/skill/yamato_risingslash", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.35F, 0.5F, 0.6F, 0.7F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.RISING)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)), (new AttackAnimation.Phase(0.7F, 1.15F, 1.35F, 2.0F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.RISING)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.PARTICLE, CorruptParticles.FORESIGHT).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)CorruptSound.YAMATO_IN.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addState(EntityState.LOCKON_ROTATE, true).newTimePair(0.0F, 3.0F).addStateRemoveOld(EntityState.CAN_BASIC_ATTACK, false).addStateRemoveOld(EntityState.MOVEMENT_LOCKED, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.EXECUT).addEvents(new AnimationEvent[]{InTimeEvent.create(0.4F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.35F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.45F, CorruptAnimations.STAMINA, Side.SERVER)}));
        CorruptAnimations.YAMATO_TWIN_SLASH = builder.nextAccessor("biped/new/yamato/skill/yamato_twinslash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.15F, 0.25F, 0.3F, 0.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(0.35F, 0.35F, 0.45F, 0.65F, 3.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F).newTimePair(0.0F, 3.0F).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.MOVEMENT_LOCKED, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.05F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.4F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.35F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.35F, CorruptAnimations.STAMINA, Side.SERVER), InTimeEvent.create(2.3F, COMBO_BREAK, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_TURN_SLASH = builder.nextAccessor("biped/new/yamato/skill/yamato_turnslash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.45F, 0.5F, 1.7F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)})).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).newTimePair(0.0F, 2.7F).addState(EntityState.CAN_BASIC_ATTACK, false).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.5F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.3F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.05F, CorruptAnimations.STAMINA, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true));
        CorruptAnimations.YAMATO_TURN_SKILL = builder.nextAccessor("biped/new/yamato/skill/yamato_turnskill", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.5F, 0.55F, 0.55F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.25F)), (new AttackAnimation.Phase(0.55F, 0.6F, 0.8F, Float.MAX_VALUE, 0.95F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get())})).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 2.0F).newTimePair(0.0F, Float.MAX_VALUE).addState(EntityState.MOVEMENT_LOCKED, true).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.5F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.3F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.05F, CorruptAnimations.STAMINA, Side.SERVER)}).addState(EntityState.LOCKON_ROTATE, true));
        CorruptAnimations.YAMATO_JUDGEMENT_CUT_END = builder.nextAccessor("biped/new/yamato/skill/yamato_judgement_cut_end", (accessor) -> (PowerAnimation)(new PowerAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 1.35F, 1.55F, 1.55F, 1.55F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)), (new AttackAnimation.Phase(1.55F, 1.6F, 1.65F, 1.7F, 1.7F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)), (new AttackAnimation.Phase(1.7F, 1.75F, 1.8F, 1.85F, 1.85F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)), (new AttackAnimation.Phase(1.85F, 1.9F, 1.95F, 2.0F, 2.0F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)), (new AttackAnimation.Phase(2.0F, 2.05F, 2.1F, 2.1F, 2.1F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)), (new AttackAnimation.Phase(2.1F, 2.1F, 2.2F, 2.25F, 2.55F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(20.0F)), (new AttackAnimation.Phase(2.55F, 3.75F, 3.85F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.POWER)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(100.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(10.0F))})).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(Properties.MOVE_ROOT_PHASE, new Properties.SpecialPhase(0.0F, 2.1F)).addProperty(Properties.INVISIBLE_PHASE, new Properties.SpecialPhase(1.35F, 1.85F)).addState(EntityState.CAN_SKILL_EXECUTION, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, CorruptAnimations.POWER).addEvents(new AnimationEvent[]{InPeriodEvent.create(2.55F, 3.75F, (entitypatch, animation, params) -> {
            Vec3 pos = ((LivingEntity)entitypatch.getOriginal()).position();

            for(int x = -5; x <= 5; ++x) {
                for(int z = -5; z <= 5; ++z) {
                    for(int i = 0; i < 5; ++i) {
                        Vec3 rand = (new Vec3(Math.random() * (double)x, Math.random(), Math.random() * (double)z)).normalize().scale((double)5.0F);
                        ((LivingEntity)entitypatch.getOriginal()).level().addParticle(new BlockParticleOption(ParticleTypes.BLOCK, Blocks.GLASS.defaultBlockState()), pos.x + rand.x, pos.y + rand.y - (double)1.0F, pos.z + rand.z, rand.x * 0.1, rand.y * 0.1, rand.z * 0.1);
                    }
                }
            }

        }, Side.CLIENT)}).addEvents(createPhantomParticleEvents(1.15F, 1.2F, 1.25F, 1.3F, 1.35F, 1.4F, 1.42F, 1.53F, 1.56F, 1.58F, 1.63F, 1.7F)).addEvents(new AnimationEvent[]{InTimeEvent.create(1.1F, CUT, Side.CLIENT), InTimeEvent.create(1.35F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_CUT1.get()), InTimeEvent.create(3.75F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_CUT2.get()), InTimeEvent.create(3.75F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(1.7F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(3.75F, YAMATO_IN, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.CAN_SKILL_EXECUTION, false).addState(EntityState.CAN_BASIC_ATTACK, false));
        CorruptAnimations.EX_YAMATO_AUTO1 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_auto1", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.25F, 0.3F, 0.3F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, CorruptCollider.YAMATO_SHEATH)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F).addEvents(new AnimationEvent[]{InTimeEvent.create(1.28F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(0.0F, YAMATO_IN, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.EX_YAMATO_AUTO2 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_auto2", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.05F, 0.25F, 0.35F, 0.4F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, CorruptCollider.YAMATO_SHEATH)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F).addEvents(new AnimationEvent[]{InTimeEvent.create(1.28F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(0.0F, YAMATO_IN, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.EX_YAMATO_AUTO3 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_auto3", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.05F, 0.25F, 0.25F, 0.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(0.3F, 0.35F, 0.55F, 0.6F, 0.6F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.25F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(1.1F, YAMATO_IN, Side.SERVER), InTimeEvent.create(1.1F, COMBO_BREAK, Side.SERVER), InTimeEvent.create(1.1F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get())}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.EX_YAMATO_AUTO4 = builder.nextAccessor("biped/new/yamato/ex_yamato/yamato_auto4", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.5F, 0.9F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, CorruptCollider.YAMATO_P)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(15.0F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 2.0F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.0F, YAMATO_OUT, Side.SERVER), InTimeEvent.create(2.3F, YAMATO_IN, Side.SERVER), InTimeEvent.create(2.3F, ReusableSources.PLAY_SOUND, Side.SERVER).params((SoundEvent)CorruptSound.YAMATO_IN.get()), InTimeEvent.create(2.3F, CorruptAnimations.STAMINA, Side.SERVER), InTimeEvent.create(0.0F, COMBO_BREAK, Side.SERVER)}).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_JUDGEMENT_CUT = builder.nextAccessor("biped/new/yamato/skill/yamato_judgement_cut", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.05F, 0.7F, 0.8F, 0.9F, 0.95F, CorruptCollider.YAMATO_P0, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.multiplier(0.25F)).addProperty(AttackPhaseProperty.PARTICLE, CorruptParticles.FORESIGHT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)CorruptSound.FORESIGHT.get()).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addStateRemoveOld(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.YAMATO_JUDGEMENT_CUT_JUST = builder.nextAccessor("biped/new/yamato/skill/yamato_judgement_cut_just", (accessor) -> (YamatoSkillAnimation)(new YamatoSkillAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.25F, 0.25F, 0.25F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_P0)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(0.25F, 0.3F, 0.35F, 0.35F, 0.35F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_P0)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.adder(0.25F))})).addProperty(AttackPhaseProperty.PARTICLE, CorruptParticles.FORESIGHT).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).newTimePair(0.0F, 1.5F).addStateRemoveOld(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.LONGSWORD_OLD_AUTO1 = builder.nextAccessor("biped/new/longsword/longsword_twohand_auto_1", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.2F, 0.3F, 0.4F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F));
        CorruptAnimations.LONGSWORD_OLD_AUTO2 = builder.nextAccessor("biped/new/longsword/longsword_twohand_auto_2", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.2F, 0.3F, 0.4F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F));
        CorruptAnimations.LONGSWORD_OLD_AUTO3 = builder.nextAccessor("biped/new/longsword/longsword_twohand_auto_3", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.2F, 0.4F, 0.45F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F));
        CorruptAnimations.LONGSWORD_OLD_AUTO4 = builder.nextAccessor("biped/new/longsword/longsword_twohand_auto_4", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.2F, 0.3F, 0.4F, 0.7F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.adder(1.25F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.35F));
        CorruptAnimations.LONGSWORD_OLD_DASH = builder.nextAccessor("biped/new/longsword/longsword_dash", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.15F, 0.1F, 0.3F, 0.5F, 0.7F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true));
        CorruptAnimations.LONGSWORD_OLD_AIRSLASH = builder.nextAccessor("biped/new/longsword/longsword_airslash", (accessor) -> new AirSlashAnimation(0.1F, 0.3F, 0.41F, 0.5F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.UCHIGATANA_IDLE = builder.nextAccessor("biped/new/dual_tachi/uchigatana_idle", (accessor) -> new StaticAnimation(true, accessor, Armatures.BIPED));
        CorruptAnimations.GREAT_TACHI_AUTO1 = builder.nextAccessor("biped/new/dual_tachi/great_tachi_auto1", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.25F, 0.5F, 0.5F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.GREAT_TACHI_AUTO2 = builder.nextAccessor("biped/new/dual_tachi/great_tachi_auto2", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.25F, 0.5F, 0.55F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F));
        CorruptAnimations.GREAT_TACHI_AUTO3 = builder.nextAccessor("biped/new/dual_tachi/great_tachi_auto3", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.1F, 0.15F, 0.3F, 0.35F, 0.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.75F)), new AttackAnimation.Phase(0.35F, 0.4F, 0.45F, 0.6F, 0.75F, 0.75F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(1.5F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F));
        CorruptAnimations.GREAT_TACHI_AUTO4 = builder.nextAccessor("biped/new/dual_tachi/great_tachi_auto4", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.5F, 0.95F, 1.5F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.3F));
        CorruptAnimations.UCHIGATANA_DASH = builder.nextAccessor("biped/new/dual_tachi/uchigatana_dash", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.5F, 0.6F, 0.7F, 1.2F, 1.8F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.UCHIGATANA_HEAVY1 = builder.nextAccessor("biped/new/dual_tachi/danger_dash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.5F, 0.9F, 1.4F, 1.8F, 1.8F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(8.0F)).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addState(EntityState.LOCKON_ROTATE, true).addEvents(new AnimationEvent[]{InTimeEvent.create(1.4F, (entitypatch, animation, params) -> {
            if (entitypatch.isLastAttackSuccess()) {
                entitypatch.playAnimationSynchronized(CorruptAnimations.UCHIGATANA_HEAVY2, 0.0F);
            }

        }, Side.SERVER)}));
        CorruptAnimations.UCHIGATANA_HEAVY2 = builder.nextAccessor("biped/new/dual_tachi/danger_dash2", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.6F, 0.9F, 1.4F, 1.5F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.5F).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.5F})).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> {
            if (elapsedTime >= 0.8F && elapsedTime < 1.05F) {
                float dpx = (float)((LivingEntity)entitypatch.getOriginal()).getX();
                float dpy = (float)((LivingEntity)entitypatch.getOriginal()).getY();
                float dpz = (float)((LivingEntity)entitypatch.getOriginal()).getZ();

                for(BlockState block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz)); (block.getBlock() instanceof BushBlock || block.isAir()) && !block.is(Blocks.VOID_AIR); block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz))) {
                    --dpy;
                }

                float distanceToGround = (float)Math.max(Math.abs(((LivingEntity)entitypatch.getOriginal()).getY() - (double)dpy) - (double)1.0F, (double)0.0F);
                return 1.0F - (1.0F / (-distanceToGround - 1.0F) + 1.0F);
            } else {
                return speed;
            }
        }));
        CorruptAnimations.DUAL_TACHI_AIRSLASH = builder.nextAccessor("biped/new/dual_tachi/dual_tachi_airslash", (accessor) -> (AirSlashAnimation)(new AirSlashAnimation(0.1F, 0.15F, 0.26F, 0.5F, ColliderPreset.DUAL_SWORD_AIR_SLASH, ((HumanoidArmature)Armatures.BIPED.get()).torso, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)));
        CorruptAnimations.DUAL_TACHI_DASH = builder.nextAccessor("biped/new/dual_tachi/dual_tachi_dash", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.4F, 0.7F, 0.9F, 1.2F, 1.8F, InteractionHand.MAIN_HAND, new AttackAnimation.JointColliderPair[]{JointColliderPair.of(((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), JointColliderPair.of(((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)})})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(5.0F)).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.DUAL_TACHI_AUTO1 = builder.nextAccessor("biped/new/dual_tachi/dual_tachi_auto1", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.25F, 0.35F, 0.36F, 0.36F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null), new AttackAnimation.Phase(0.36F, 0.36F, 0.5F, 0.55F, 0.55F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.7F));
        CorruptAnimations.DUAL_TACHI_AUTO2 = builder.nextAccessor("biped/new/dual_tachi/dual_tachi_auto2", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.2F, 0.4F, 0.4F, 0.4F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), new AttackAnimation.Phase(0.4F, 0.41F, 0.5F, 0.55F, 0.55F, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.5F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.8F));
        CorruptAnimations.DUAL_TACHI_AUTO3 = builder.nextAccessor("biped/new/dual_tachi/dual_tachi_auto3", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.3F, 0.45F, 0.45F, 0.45F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(3.0F)), new AttackAnimation.Phase(0.25F, 0.25F, 0.35F, 0.7F, 1.0F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.DUAL_TACHI_AUTO4 = builder.nextAccessor("biped/new/dual_tachi/dual_tachi_auto4", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.6F, 0.65F, 1.1F, 1.65F, 1.65F, InteractionHand.MAIN_HAND, new AttackAnimation.JointColliderPair[]{JointColliderPair.of(((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), JointColliderPair.of(((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)})})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.DUAL_RISING_SKILL = builder.nextAccessor("biped/new/dual_tachi/rising_skill", (accessor) -> (KnockbackAnimation)(new KnockbackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.15F, 0.15F, 0.3F, 0.35F, 0.35F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.DUAL_RISING)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)), (new AttackAnimation.Phase(0.35F, 0.4F, 0.45F, 0.6F, 0.65F, 0.65F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.DUAL_RISING)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.FALL).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)), (new AttackAnimation.Phase(0.65F, 1.1F, 1.6F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.FINISHER)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.ENTITY_MOVE.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get())})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.45F).addStateRemoveOld(EntityState.TURNING_LOCKED, false).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(ActionAnimationProperty.CANCELABLE_MOVE, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.05F})).addEvents(new AnimationEvent[]{InTimeEvent.create(1.3F, ReusableSources.FRACTURE_GROUND_SIMPLE, Side.CLIENT).params(new Vec3f(0.5F, -0.24F, 2.0F), ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, 2.55, 0.55F)}).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, (AnimationProperty.PlaybackSpeedModifier)(self, entitypatch, speed, prevElapsedTime, elapsedTime) -> {
            if (elapsedTime >= 0.9F && elapsedTime < Float.MAX_VALUE) {
                float dpx = (float)((LivingEntity)entitypatch.getOriginal()).getX();
                float dpy = (float)((LivingEntity)entitypatch.getOriginal()).getY();
                float dpz = (float)((LivingEntity)entitypatch.getOriginal()).getZ();

                for(BlockState block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz)); (block.getBlock() instanceof BushBlock || block.isAir()) && !block.is(Blocks.VOID_AIR); block = ((LivingEntity)entitypatch.getOriginal()).level().getBlockState(new BlockPos.MutableBlockPos((double)dpx, (double)dpy, (double)dpz))) {
                    --dpy;
                }

                float distanceToGround = (float)Math.max(Math.abs(((LivingEntity)entitypatch.getOriginal()).getY() - (double)dpy) - (double)1.0F, (double)0.0F);
                return 1.0F - (1.0F / (-distanceToGround - 1.0F) + 1.0F);
            } else {
                return speed;
            }
        }));
        CorruptAnimations.DUAL_SLASH_SKILL = builder.nextAccessor("biped/new/dual_tachi/slash_skill", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.2F, 0.21F, 0.39F, 0.4F, 0.4F, InteractionHand.MAIN_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null), new AttackAnimation.Phase(0.4F, 0.41F, 0.41F, 0.6F, 0.65F, 0.65F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null), (new AttackAnimation.Phase(0.65F, 0.9F, 1.0F, 1.1F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLUNT).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLUNT_HIT_HARD.get())})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.45F).addState(EntityState.MOVEMENT_LOCKED, true).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 1.1F})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true));
        CorruptAnimations.UCHIGATANA_SKILL1 = builder.nextAccessor("biped/new/dual_tachi/uchigatana_heavy1", (accessor) -> (AttackAnimation)(new AttackAnimation(0.3F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.9F, 1.05F, 1.5F, 1.5F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(6.5F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(25.0F)).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 1.1F).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addState(EntityState.MOVEMENT_LOCKED, true).addState(EntityState.TURNING_LOCKED, true).addState(EntityState.LOCKON_ROTATE, true).addState(EntityState.CAN_BASIC_ATTACK, false).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addEvents(new AnimationEvent[]{InTimeEvent.create(1.25F, (entitypatch, animation, params) -> {
            if (entitypatch.isLastAttackSuccess()) {
                entitypatch.playAnimationSynchronized(CorruptAnimations.UCHIGATANA_SKILL2, 0.0F);
            }

        }, Side.SERVER)}));
        CorruptAnimations.UCHIGATANA_SKILL2 = builder.nextAccessor("biped/new/dual_tachi/uchigatana_heavy2", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 1.2F, 1.35F, 1.35F, 3.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.setter(3.0F)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(25.0F)).addProperty(AttackPhaseProperty.EXTRA_DAMAGE, Set.of(ExtraDamageInstance.EVISCERATE_LOST_HEALTH.create(new float[]{0.15F}))).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).addState(EntityState.MOVEMENT_LOCKED, true));
        CorruptAnimations.TACHI_TWOHAND_AUTO_1 = builder.nextAccessor("biped/new/longsword/tachi_twohand_auto_1", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.1F, 0.2F, 0.3F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.5F));
        CorruptAnimations.TACHI_TWOHAND_AUTO_2 = builder.nextAccessor("biped/new/longsword/tachi_twohand_auto_2", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.1F, 0.2F, 0.3F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.5F));
        CorruptAnimations.TACHI_TWOHAND_AUTO_3 = builder.nextAccessor("biped/new/longsword/tachi_twohand_auto_3", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.1F, 0.2F, 0.45F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.5F).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true));
        CorruptAnimations.TACHI_TWOHAND_AUTO_4 = builder.nextAccessor("biped/new/longsword/tachi_twohand_auto_4", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.2F, 0.3F, 0.65F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.adder(1.25F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.5F));
        CorruptAnimations.TACHI_SLASH = builder.nextAccessor("biped/new/tachi_slash", (accessor) -> (YamtoAttackAnimation)(new YamtoAttackAnimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.15F, 0.2F, 0.21F, 0.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)), (new AttackAnimation.Phase(0.3F, 0.35F, 0.4F, 0.4F, 0.41F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD), (new AttackAnimation.Phase(0.4F, 0.5F, 0.61F, 0.65F, 0.65F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)), (new AttackAnimation.Phase(0.65F, 0.75F, 0.85F, 1.15F, 1.25F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)), (new AttackAnimation.Phase(1.95F, 2.05F, 2.1F, 2.2F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.LETHAL_SLICING)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.5F).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true));
        CorruptAnimations.KATANA_SKILL2 = builder.nextAccessor("biped/new/longsword/skill/katana_skill2", (accessor) -> (new AttackAnimation(0.0F, 0.65F, 0.7F, 0.73F, 1.05F, CorruptCollider.YAMATO_P, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.setter(1.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD));
        CorruptAnimations.KATANA_SKILL3 = builder.nextAccessor("biped/new/longsword/skill/katana_skill3", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, 0.06F, 0.1F, 0.35F, 0.6F, CorruptCollider.LETHAL_SLICING, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.ARMOR_NEGATION_MODIFIER, ValueModifier.setter(15.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.RECOUNTER = builder.nextAccessor("biped/new/katana/skill/backward", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.02F, 0.01F, 0.15F, 0.26F, 1.15F, CorruptCollider.YAMATO_P0, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.GUARD = builder.nextAccessor("biped/new/longsword/skill/guard", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.04F, 0.09F, 0.25F, 0.25F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(-10.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F)), (new AttackAnimation.Phase(0.25F, 0.31F, 0.36F, 0.65F, 0.65F, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.YAMATO_DASH)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(2.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.1F))})).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.RECOVER = builder.nextAccessor("biped/new/longsword/skill/recover", (accessor) -> (InvincibleAttackAnimation)(new InvincibleAttackAnimation(0.02F, 0.01F, 0.15F, 0.26F, 1.15F, CorruptCollider.YAMATO_P0, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.SHILED_SLASH = builder.nextAccessor("biped/new/longsword/skill/shiled_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.05F, 0.0F, 0.0F, 0.0F, 1.15F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolL, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.2F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.MAX_STRIKES_MODIFIER, ValueModifier.multiplier(2.0F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_BIG.get()).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_HIT.get()).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.HIT_BLADE).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.NONE).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.SWORD_ONEHAND_AUTO1 = builder.nextAccessor("biped/new/sword/sword_onehand_auto_1", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.15F, 0.15F, 0.4F, 0.4F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.0F));
        CorruptAnimations.SWORD_ONEHAND_AUTO2 = builder.nextAccessor("biped/new/sword/sword_onehand_auto_2", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.15F, 0.15F, 0.25F, 0.4F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.0F));
        CorruptAnimations.SWORD_ONEHAND_AUTO3 = builder.nextAccessor("biped/new/sword/sword_onehand_auto_3", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.12F, 0.1F, 0.35F, 0.4F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.0F));
        CorruptAnimations.SWORD_ONEHAND_AUTO4 = builder.nextAccessor("biped/new/sword/sword_onehand_auto_4", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.1F, 0.15F, 0.35F, 0.6F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.adder(1.25F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.25F));
        CorruptAnimations.SWORD_ONEHAND_DASH = builder.nextAccessor("biped/new/sword/sword_onehand_dash", (accessor) -> (DashAttackAnimation)(new DashAttackAnimation(0.12F, 0.1F, 0.25F, 0.4F, 0.65F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.D_BLADE_SLASH = builder.nextAccessor("biped/new/sword/d_blade_slash", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.31F, 0.4F, 0.4F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD), (new AttackAnimation.Phase(0.4F, 0.5F, 0.61F, 0.65F, 0.65F, InteractionHand.OFF_HAND, ((HumanoidArmature)Armatures.BIPED.get()).toolL, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD), (new AttackAnimation.Phase(0.65F, 0.75F, 0.85F, 1.15F, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG)})).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.EVISCERATE).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.DAGGER_DUAL_AUTO1 = builder.nextAccessor("biped/new/dagger/dagger_dual_auto1", (accessor) -> new BasicAttackAnimation(0.08F, 0.05F, 0.16F, 0.25F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.DAGGER_DUAL_AUTO2 = builder.nextAccessor("biped/new/dagger/dagger_dual_auto2", (accessor) -> new BasicAttackAnimation(0.08F, 0.0F, 0.11F, 0.16F, InteractionHand.OFF_HAND, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolL, accessor, Armatures.BIPED));
        CorruptAnimations.DAGGER_DUAL_AUTO3 = builder.nextAccessor("biped/new/dagger/dagger_dual_auto3", (accessor) -> new BasicAttackAnimation(0.08F, 0.0F, 0.11F, 0.2F, (Collider)null, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED));
        CorruptAnimations.DAGGER_DUAL_AUTO4 = builder.nextAccessor("biped/new/dagger/dagger_dual_auto4", (accessor) -> (BasicAttackAnimation)(new BasicAttackAnimation(0.13F, 0.1F, 0.21F, 0.4F, ColliderPreset.DUAL_DAGGER_DASH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true));
        CorruptAnimations.BLADE_RUSH1 = builder.nextAccessor("biped/new/dagger/skill/blade_rush_first", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 0.05F, 0.05F, 0.25F, Float.MAX_VALUE, CorruptCollider.BLADE_RUSH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 0.25F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.BLADE_RUSH2 = builder.nextAccessor("biped/new/dagger/skill/blade_rush_second", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 0.05F, 0.05F, 0.25F, Float.MAX_VALUE, CorruptCollider.BLADE_RUSH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 0.25F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_ORIGIN_AS_DESTINATION).addProperty(ActionAnimationProperty.COORD_GET, MoveCoordFunctions.WORLD_COORD).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.BLADE_RUSH3 = builder.nextAccessor("biped/new/dagger/skill/blade_rush_third", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 0.05F, 0.05F, 0.25F, Float.MAX_VALUE, CorruptCollider.BLADE_RUSH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 0.25F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.BLADE_RUSH4 = builder.nextAccessor("biped/new/dagger/skill/blade_rush_finisher", (accessor) -> (AttackAnimation)(new AttackAnimation(0.15F, 0.05F, 0.15F, 0.35F, Float.MAX_VALUE, CorruptCollider.BLADE_RUSH, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(AttackPhaseProperty.PARTICLE, EpicFightParticles.BLADE_RUSH_SKILL).addProperty(AttackPhaseProperty.HIT_SOUND, (SoundEvent)EpicFightSounds.BLADE_RUSH_FINISHER.get()).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, true).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 0.25F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE));
        CorruptAnimations.BLADE_RUSH1_DAWN = builder.nextAccessor("biped/new/dagger/skill/blade_rush_first_dawn", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 0.05F, 0.05F, 0.25F, Float.MAX_VALUE, CorruptCollider.BLADE_RUSH_DAWN, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 0.25F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).setResourceLocation("cdmoveset", "biped/new/dagger/skill/blade_rush_first"));
        CorruptAnimations.BLADE_RUSH3_DAWN = builder.nextAccessor("biped/new/dagger/skill/blade_rush_third_dawn", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 0.05F, 0.05F, 0.25F, Float.MAX_VALUE, CorruptCollider.BLADE_RUSH_DAWN, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(ActionAnimationProperty.MOVE_ON_LINK, false).addProperty(ActionAnimationProperty.NO_GRAVITY_TIME, TimePairList.create(new float[]{0.0F, 0.35F})).addProperty(ActionAnimationProperty.COORD_UPDATE_TIME, TimePairList.create(new float[]{0.0F, 0.25F})).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(StaticAnimationProperty.PLAY_SPEED_MODIFIER, ReusableSources.CONSTANT_ONE).setResourceLocation("cdmoveset", "biped/new/dagger/skill/blade_rush_third"));
        CorruptAnimations.FUSHIKIRI_HAIRUI_SLASH1 = builder.nextAccessor("biped/new/skill_animation/fushigiri_hairui_slash_1", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 1.5F, 1.65F, 2.1F, Float.MAX_VALUE, CorruptCollider.MORTAL_BLADE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.GUARD_PUNCTURE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.FUSHIKIRI_HAIRUI_SLASH2 = builder.nextAccessor("biped/new/skill_animation/fushigiri_hairui_slash_2", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, 0.8F, 1.3F, 1.8F, Float.MAX_VALUE, CorruptCollider.MORTAL_BLADE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, accessor, Armatures.BIPED)).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.GUARD_PUNCTURE)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.DAWN_ATTACK = builder.nextAccessor("biped/new/skill_animation/dawn_attack", (accessor) -> (AttackAnimation)(new AttackAnimation(0.35F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 1.15F, 1.35F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).rootJoint, CorruptCollider.DAWN_ATTACK)})).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.25F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.multiplier(1.5F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.KNOCKDOWN).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.GUARD_PUNCTURE, EpicFightDamageTypeTags.BYPASS_DODGE)).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F).addEvents(new AnimationEvent[]{InTimeEvent.create(0.2F, (entitypatch, animation, params) -> entitypatch.playSound((SoundEvent)EpicFightSounds.ENTITY_MOVE.get(), 0.8F, 1.2F), Side.BOTH)}));
        CorruptAnimations.RING_SKILL = builder.nextAccessor("biped/new/skill_animation/ring_skill", (accessor) -> (AttackAnimation)(new AttackAnimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 1.8F, 2.0F, 2.1F, 2.1F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(2.1F, 2.15F, 2.35F, 2.4F, 2.4F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT), (new AttackAnimation.Phase(2.4F, 2.7F, 3.0F, 3.05F, 3.05F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(3.05F, 3.15F, 3.3F, 3.35F, 3.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)), (new AttackAnimation.Phase(3.35F, 3.4F, 3.6F, 3.65F, 3.65F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(3.65F, 3.7F, 3.85F, 3.9F, 3.9F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)), (new AttackAnimation.Phase(3.9F, 4.6F, 4.9F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F)).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.FINISHER)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get())})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.RING_SKILL_FAST = builder.nextAccessor("biped/new/skill_animation/ring_skill_fast", (accessor) -> (AttackAnimation)(new AttackAnimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.2F, 0.4F, 0.5F, 0.5F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(0.5F, 0.55F, 0.75F, 0.8F, 0.8F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT), (new AttackAnimation.Phase(0.8F, 1.1F, 1.4F, 1.45F, 1.45F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(1.45F, 1.55F, 1.7F, 1.75F, 1.75F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)), (new AttackAnimation.Phase(1.75F, 1.8F, 2.0F, 2.05F, 2.05F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)), (new AttackAnimation.Phase(2.05F, 2.1F, 2.25F, 2.3F, 2.3F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.SHORT).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(0.5F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(5.0F)), (new AttackAnimation.Phase(2.3F, 3.0F, 3.25F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(10.0F)).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.75F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()).addProperty(AttackPhaseProperty.SOURCE_TAG, Set.of(EpicFightDamageTypeTags.FINISHER))})).addProperty(ActionAnimationProperty.STOP_MOVEMENT, true).addProperty(ActionAnimationProperty.COORD_SET_BEGIN, null).addProperty(ActionAnimationProperty.COORD_SET_TICK, MoveCoordFunctions.TRACE_TARGET_LOCATION_ROTATION).addProperty(ActionAnimationProperty.ENTITY_YROT_PROVIDER, MoveCoordFunctions.LOOK_DEST).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.RING_SKILL_ONCE = builder.nextAccessor("biped/new/skill_animation/ring_skill_once", (accessor) -> (AttackAnimation)(new AttackAnimation(0.1F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.82F, 0.95F, 1.0F, 1.0F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.HIT_PRIORITY, Priority.TARGET).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.2F)).addProperty(AttackPhaseProperty.SWING_SOUND, (SoundEvent)EpicFightSounds.WHOOSH_SHARP.get()), (new AttackAnimation.Phase(1.0F, 1.1F, 1.32F, Float.MAX_VALUE, Float.MAX_VALUE, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG).addProperty(AttackPhaseProperty.DAMAGE_MODIFIER, ValueModifier.multiplier(1.2F)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.adder(1.5F))})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.85F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F).addState(EntityState.LOCKON_ROTATE, true).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
        CorruptAnimations.PKATANA_AUTO1 = builder.nextAccessor("biped/new/phantom_katana/katana_auto1", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.25F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.1F, 0.3F, 0.4F, 0.45F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F));
        CorruptAnimations.PKATANA_AUTO2 = builder.nextAccessor("biped/new/phantom_katana/katana_auto2", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{new AttackAnimation.Phase(0.0F, 0.05F, 0.25F, 0.35F, 0.35F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.2F));
        CorruptAnimations.PKATANA_AUTO3 = builder.nextAccessor("biped/new/phantom_katana/katana_auto3", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.15F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.05F, 0.1F, 0.4F, 0.55F, 0.55F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.IMPACT_MODIFIER, ValueModifier.setter(2.0F)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.HOLD), new AttackAnimation.Phase(0.55F, 0.6F, 0.9F, 0.95F, 0.95F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)})).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 0.9F).addProperty(AttackAnimationProperty.ATTACK_SPEED_FACTOR, 0.5F));
        CorruptAnimations.PKATANA_AUTO4 = builder.nextAccessor("biped/new/phantom_katana/katana_auto4", (accessor) -> (KatanaAttackanimation)(new KatanaAttackanimation(0.2F, accessor, Armatures.BIPED, new AttackAnimation.Phase[]{(new AttackAnimation.Phase(0.0F, 0.45F, 0.6F, 1.3F, 1.1F, ((HumanoidArmature)Armatures.BIPED.get()).toolR, (Collider)null)).addProperty(AttackPhaseProperty.STUN_TYPE, StunType.LONG)})).addProperty(ActionAnimationProperty.MOVE_VERTICAL, true).addProperty(AttackAnimationProperty.FIXED_MOVE_DISTANCE, false).addProperty(AttackAnimationProperty.BASIS_ATTACK_SPEED, 1.6F));
    }

    private static AnimationEvent.InTimeEvent[] createPhantomParticleEvents(float... times) {
        AnimationEvent.InTimeEvent[] events = new AnimationEvent.InTimeEvent[times.length];

        for(int i = 0; i < times.length; ++i) {
            float time = times[i];
            events[i] = InTimeEvent.create(time, (entitypatch, animation, params) -> {
                Entity entity = entitypatch.getOriginal();
                entity.level().addParticle((ParticleOptions)CorruptParticles.CORRUPT_AFTER_IMAGE.get(), entity.getX(), entity.getY(), entity.getZ(), Double.longBitsToDouble((long)entity.getId()), (double)0.0F, (double)0.0F);
            }, Side.CLIENT);
        }

        return events;
    }
}
